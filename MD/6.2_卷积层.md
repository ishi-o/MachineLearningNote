### 一般卷积层

- 卷积层(`Convolutional Layer`)专门用于处理网格状数据，例如图像等

  先简单说明一下在全连接层中图像数据的预处理方法：将所有像素均视为特征，一个图像的所有像素的`RGB`值等排成一列作为一条样本

  因此，全连接层极其不适合处理网格数据，原因是：

  - 网格数据的特征量极多，导致使用全连接层处理时，参数量爆炸导致计算效率低下
  - 网格数据具有局部相关性，相邻数据相关程度远大于不相邻数据的相关程度，而全连接层使结点和全局数据关联起来，忽略了网格数据的“形状”
  - 平移不变性：网格数据的部分目标平移时，应该将平移前后的数据看作类似的输入，但显然全连接层做不到

- 卷积层不像全连接层那样输入、输出为行向量的特征样本，对应全连接层：

  - 输入、输出均为三维的**特征图**，第一维是**输入通道数**(描述数据深度的量)，后两维是每一个通道二维特征图的行列

    例如`RGB`图像就是三通道的特征图

  - 权重为四维的**滤波器**张量，又称**卷积核**，第一维是输出通道数、第二维是输入通道数、后两维是每一个通道特征图的行列

  - 输入与权重的运算为**卷积运算**，实际上并非数学上的卷积而是**互相关运算**，用$\ast$表示

    此处的卷积运算定义为(设输入特征图为$X$，卷积核为$P$)：
    $$
    \begin{align}&(X\ast P)_{c_{out},i,j}=\sum_{c_{in}}\sum_m\sum_nX_{c_{in},i+m-1,j+n-1}·P_{c_{out},c_{in},m,n}+b_{c_{out}}\end{align}
    $$